(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],m=0,h=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"107c":function(t,e,n){},"173c":function(t,e,n){t.exports=n.p+"img/coverall.bfbc468f.png"},"2e8a":function(t,e,n){},"3c2f":function(t,e,n){},4445:function(t,e,n){"use strict";var a=n("aa70"),s=n.n(a);s.a},"505e":function(t,e,n){"use strict";var a=n("8e7a"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"wrapper"}},[n("search-bar"),n("div",{staticClass:"mainContainer"},[n("router-view")],1),n("player")],1)])},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"searchBar"}},[n("span",{on:{click:t.goHome}},[n("span",{staticClass:"iconfont"},[t._v("")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],attrs:{type:"text",placeholder:"搜索音乐，歌手"},domProps:{value:t.searchContent},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchContent=e.target.value)}}})])},c=[],u="musicList",l="playingMusicURL",m="musicCoverURL",h="musicComment",p="saveDetailInfo",f=n("bc3a"),d=n.n(f),g={name:"SearchBar",data:function(){return{searchContent:""}},methods:{search:function(){var t=this;d.a.get("https://autumnfish.cn/search?keywords="+this.searchContent).then((function(e){t.$store.commit(u,e.data.result.songs),console.log(e.data.result.songs),t.$router.push("/home/musiclist")}),(function(t){console.log(t)}))},goHome:function(){this.$router.push("/home")}}},v=g,y=(n("a2df"),n("2877")),_=Object(y["a"])(v,o,c,!1,null,"66b85b0c",null),b=_.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("audio",{attrs:{src:this.$store.getters.getPlayingMusicURL,autoplay:"",controls:"",id:"myAudio"}})])},$=[],M={name:"Player",data:function(){return{musicURL:this.$store.getters.getPlayingMusicURL}},methods:{setVolume:function(){document.querySelector("#myAudio").volume=.2}},mounted:function(){this.setVolume()}},j=M,S=(n("ef59"),Object(y["a"])(j,C,$,!1,null,"59aab9a0",null)),L=S.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"showMusicList"},t._l(this.$store.getters.getMusicList,(function(e,a){return n("div",{key:a,staticClass:"father"},[n("div",[n("span",{staticClass:"iconfont",on:{click:function(n){return t.playMusic(e.id)}}},[t._v("")]),n("span",{staticClass:"musicName",on:{click:function(n){return t.musicDetail(e.id,e.name,e.artists[0].name)}}},[t._v(t._s(e.name))])]),n("div",{staticClass:"artists"},[t._v(t._s(e.artists[0].name))]),n("div",{staticClass:"album"},[t._v(t._s(e.album.name))]),n("div",[t._v(t._s(t.translateTime(e.duration)))])])})),0)},w=[],k=n("2f62"),x={getMusicList:function(t){return t.musicList},getPlayingMusicURL:function(t){return t.playingMusicURL},getMusicCoverURL:function(t){return t.musicCoverURL},getMusicComment:function(t){return t.musicComment},getDetailInfo:function(t){return{detailId:t.detailId,detailName:t.detailName,detailArtistName:t.detailArtistName}}},R=n("ade3"),U=(a={},Object(R["a"])(a,u,(function(t,e){t.musicList=e})),Object(R["a"])(a,l,(function(t,e){t.playingMusicURL=e})),Object(R["a"])(a,m,(function(t,e){t.musicCoverURL=e})),Object(R["a"])(a,h,(function(t,e){t.musicComment=e})),Object(R["a"])(a,p,(function(t,e){t.detailId=e.detailid,t.detailName=e.detailname,t.detailArtistName=e.detailartistname})),a),P={};s["a"].use(k["a"]);var N={musicList:[],playingMusicURL:"",musicCoverURL:"",musicComment:[],detailName:"",detailArtistName:"",detailId:""},A=new k["a"].Store({state:N,getters:x,mutations:U,actions:P}),D=A,I={name:"ShowMusicList",data:function(){return{cover:""}},methods:{translateTime:function(t){var e=Math.floor(t/6e4);e=e>=10?e:"0"+e;var n=Math.floor(t/1e3%60);return n=n>=10?n:"0"+n,e+":"+n},playMusic:function(t){var e=this;d.a.get("https://autumnfish.cn/song/url?id="+t).then((function(t){null==t.data.data[0].url&&alert("暂无歌曲..."),e.$store.commit(l,t.data.data[0].url)}),(function(t){console.log(t)}))},musicDetail:function(t,e,n){var a=this;d.a.all([this.getMusicDetail(t),this.getMusicCommetn(t)]).then(d.a.spread((function(s,r){console.log(s),console.log(r),a.$store.commit(m,s.data.songs[0].al.picUrl),a.$store.commit(h,r.data.hotComments),a.$store.commit(p,{detailid:t,detailname:e,detailartistname:n}),a.$router.push("/home/musicdetail")}))).catch((function(t){console.log(t)}))},getMusicDetail:function(t){return d.a.get("https://autumnfish.cn/song/detail?ids="+t)},getMusicCommetn:function(t){return d.a.get("https://autumnfish.cn/comment/hot?type=0&id="+t)}},mounted:function(){console.log("..."),0===this.$store.getters.getMusicList.length&&this.$router.push("/")}},E=I,Q=(n("505e"),Object(y["a"])(E,O,w,!1,null,"2823d30e",null)),T=Q.exports,B={name:"app",components:{SearchBar:b,Player:L,ShowMusicList:T},mounted:function(){this.$router.push("/home")}},Z=B,H=(n("e87d"),Object(y["a"])(Z,r,i,!1,null,"7d6217a7",null)),J=H.exports,K=n("8c4f"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},t._l(t.images,(function(e){return n("div",{key:e.url,staticClass:"homeAlbum"},[n("img",{attrs:{src:e.url,alt:"album"},on:{click:function(n){return t.search(e.searchStr)}}}),n("p",{on:{click:function(n){return t.search(e.searchStr)}}},[t._v(t._s(e.searchStr))])])})),0)},W=[],q={name:"Home",data:function(){return{images:[{searchStr:"传说之下 游戏原声带",url:"http://p4.music.126.net/oZe-JSuWYAR8zSa29g9g0g==/3254554423361647.jpg?param=200y200"},{searchStr:"易烊千玺",url:"http://p2.music.126.net/1gcQxwKhOLAcE_aTFjIz6Q==/18874216602661738.jpg?param=200y200"},{searchStr:"Shirfine",url:"http://p2.music.126.net/UcX3ZSde2-lEKjQ1_sz-tQ==/109951164400602756.jpg?param=200y200"},{searchStr:"明日方舟OST1",url:"http://p2.music.126.net/2Es2-eB2nJMGPolpE_Yq5A==/109951164146313613.jpg?param=200y200"},{searchStr:"The Biggest Dreamer",url:"http://p1.music.126.net/I7osbyAjcyrLnNrXytQk-Q==/579442627850015.jpg?param=200y200"},{searchStr:"向井太一",url:"http://p1.music.126.net/cnuto10oQO2pf9FZhRtEMw==/109951164343546557.jpg?param=200y200"},{searchStr:"Gymnopedies",url:"http://p3.music.126.net/ZLK4WUKox_SPg8OxR9aD9A==/109951163241486994.jpg?param=200y200"},{searchStr:"小夜曲",url:"http://p4.music.126.net/v56HDolDRWNoNhZtc-6Qag==/109951163947939918.jpg?param=200y200"}]}},methods:{search:function(t){var e=this;d.a.get("https://autumnfish.cn/search?keywords="+t).then((function(t){e.$store.commit(u,t.data.result.songs),console.log(t.data.result.songs),e.$router.push("/home/musiclist")}),(function(t){console.log(t)}))}}},F=q,G=(n("4445"),Object(y["a"])(F,z,W,!1,null,"005f0bab",null)),V=G.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cover"},[a("span",{staticClass:"back",on:{click:t.back}},[a("span",{staticClass:"iconfont"},[t._v("")])]),a("img",{staticClass:"coverImg",attrs:{src:this.$store.getters.getMusicCoverURL,alt:"cover"}}),a("img",{staticClass:"coverall",attrs:{src:n("173c"),alt:"coverall"}}),a("div",{staticClass:"showBar"},[a("p",{on:{click:function(e){return t.play(t.$store.getters.getDetailInfo.detailId)}}},[t._v("播放"),a("span",{staticClass:"iconfont"},[t._v("")])]),a("p",[t._v("歌名："+t._s(this.$store.getters.getDetailInfo.detailName))]),a("p",[t._v("歌手："+t._s(this.$store.getters.getDetailInfo.detailArtistName))])])]),a("div",{staticClass:"comments"},[0==t.$store.getters.getMusicComment.length?a("span",{staticClass:"noComment"},[t._v("暂无评论")]):t._e(),t._l(this.$store.getters.getMusicComment,(function(e,n){return a("div",{key:n,staticClass:"comment"},[a("div",{staticClass:"leftPart"},[a("img",{attrs:{src:e.user.avatarUrl,alt:"avatar"}})]),a("div",{staticClass:"rightPart"},[a("p",[a("span",[t._v(t._s(e.user.nickname)+":")]),t._v(" "+t._s(e.content)+" ")])])])}))],2)])},Y=[],tt={name:"SearchBar",data:function(){return{}},methods:{play:function(t){var e=this;d.a.get("https://autumnfish.cn/song/url?id="+t).then((function(t){console.log(e),null==t.data.data[0].url&&alert("暂无歌曲..."),e.$store.commit(l,t.data.data[0].url)}),(function(t){console.log(t)}))},back:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}},mounted:function(){console.log("..."),0===this.$store.getters.getMusicList.length&&this.$router.push("/")}},et=tt,nt=(n("db51"),Object(y["a"])(et,X,Y,!1,null,"57b78942",null)),at=nt.exports;s["a"].use(K["a"]);var st=[{path:"/",redirect:"/home"},{path:"/home",component:V},{path:"/home/musiclist",component:T},{path:"/home/musicdetail",component:at}],rt=new K["a"]({routes:st,mode:"history"}),it=rt;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(J)},router:it,store:D}).$mount("#app")},"8e7a":function(t,e,n){},a2df:function(t,e,n){"use strict";var a=n("e8a9"),s=n.n(a);s.a},aa70:function(t,e,n){},db51:function(t,e,n){"use strict";var a=n("107c"),s=n.n(a);s.a},e87d:function(t,e,n){"use strict";var a=n("3c2f"),s=n.n(a);s.a},e8a9:function(t,e,n){},ef59:function(t,e,n){"use strict";var a=n("2e8a"),s=n.n(a);s.a}});
//# sourceMappingURL=app.b6bf20d9.js.map